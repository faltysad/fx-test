(this["webpackJsonpgeorge-fx-test"]=this["webpackJsonpgeorge-fx-test"]||[]).push([[0],{104:function(e,a,r){},105:function(e,a,r){"use strict";r.r(a);var t,n=r(0),c=r.n(n),i=r(18),o=r.n(i),s=r(4),u=r(49),l=r(12),d=r(106),b=r(1),O=function(){var e=Object(d.a)().t;return Object(b.jsx)("div",{id:"HEADER",className:"flex justify-center items-center shadow-md bg-blue-300 text-blue-900",children:Object(b.jsx)("h1",{className:"text-xl font-bold",children:e("title")})})},j=function(e){var a=Object(d.a)().t;return Object(b.jsxs)("div",{className:"grid grid grid-cols-tableSmall md:grid-cols-table border-0 border-b border-solid items-center py-2 font-bold",children:[Object(b.jsx)("div",{className:"listItemFlagWrapper",children:a("listHead.currency")}),Object(b.jsx)("div",{children:a("listHead.country")}),Object(b.jsx)("div",{children:a("listHead.exchangeRate")})]})},R=function(e){var a=e.currencyItem,r=Object(d.a)().t,t=new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a.exchangeRate.sell);return Object(b.jsxs)("div",{id:"LIST_ITEM",className:"grid grid-cols-tableSmall md:grid-cols-table border-0 border-b border-solid items-center",children:[Object(b.jsxs)("div",{className:"grid grid-cols-flagWrapper items-center",children:[Object(b.jsx)("div",{className:"p-8 pl-0 py-2",children:Object(b.jsx)("img",{id:"FLAG_ICON",src:"./flags/".concat(a.flagFileName),alt:"".concat(a.countryCode," flag"),width:70,height:47})}),Object(b.jsxs)("div",{className:"ml-1",children:[a.currencyCode," - ",a.currencyName]})]}),Object(b.jsx)("div",{children:r("countries.".concat(a.countryCode))}),Object(b.jsx)("div",{children:t})]})},S=function(e){var a=e.children;return Object(b.jsxs)("div",{id:"LIST",className:"container mx-auto",children:[Object(b.jsx)(j,{}),a]})},h=function(e){var a=e.currencies,r=e.isLoading,t=e.isFiltering,n=e.isError,c=Object(d.a)().t;return n?Object(b.jsx)(S,{children:Object(b.jsx)("h1",{id:"IS_ERROR",children:c("isError")})}):r||t?Object(b.jsx)(S,{children:Object(b.jsx)("h1",{id:"IS_LOADING",children:c("isLoading")})}):a.length?Object(b.jsx)(S,{children:a.map((function(e,a){return Object(b.jsx)(R,{currencyItem:e},"".concat(e.countryCode,"-").concat(a))}))}):Object(b.jsx)(S,{children:Object(b.jsx)("h1",{id:"NO_RESULT",children:c("noResult")})})},C=function(e){return e.currency},f=function(e){return C(e).loading},T=function(e){return C(e).error},g=function(e){return C(e).data},E=function(e){return C(e).filteredData},A=function(e){return C(e).searchTerm},m=function(e){return C(e).filtering},N=function(e){var a=e.handleInputChange,r=e.searchInputDisabled,t=Object(n.useState)(""),c=Object(l.a)(t,2),i=c[0],o=c[1],u=Object(d.a)().t,O=Object(s.c)(A);return Object(n.useEffect)((function(){o(O||"")}),[O]),Object(b.jsx)("div",{className:"bg-blue-100 sticky top-0 flex items-center",children:Object(b.jsx)("div",{className:"container mx-auto",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{id:"SEARCH_LABEL",htmlFor:"SEARCH",className:"",children:u("searchLabel")}),Object(b.jsx)("input",{autoFocus:!0,className:"px-6 py-3 rounded-md w-full",type:"text",id:"SEARCH",name:"SEARCH",placeholder:u("search"),disabled:r,value:i,onChange:function(e){o(e.currentTarget.value),a(e)}})]})})})},p=r(13),D=r.n(p),L=r(20);!function(e){e.FETCH_REQUEST="currency/FETCH_REQUEST",e.FETCH_SUCCESS="currency/FETCH_SUCCESS",e.FETCH_ERROR="currency/FETCH_ERROR",e.FILTER_DATA="currency/FILTER_DATA",e.SEARCH_TERM_CHANGE="currency/SEARCH_TERM_CHANGE"}(t||(t={}));var M=r(43),B=r(44),y=r(45),x=r.n(y).a.create({baseURL:"https://run.mocky.io/v3/c88db14a-3128-4fbd-af74-1371c5bb0343"}),v=function(){function e(){Object(M.a)(this,e)}return Object(B.a)(e,[{key:"getCurrencies",value:function(){var e=Object(L.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.get("/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),H=new v,G={FJD:"FJ",MXN:"MX",STD:"ST",SCR:"SC",CDF:"CD",BBD:"BB",GTQ:"GT",CLP:"CL",HNL:"HN",UGX:"UG",ZAR:"ZA",TND:"TN",BSD:"BS",SLL:"SL",IQD:"IQ",GMD:"GM",CUP:"CU",TWD:"TW",RSD:"RS",DOP:"DO",KMF:"KM",MYR:"MY",FKP:"FK",XOF:"BF",GEL:"GE",UYU:"UY",MAD:"MA",CVE:"CV",TOP:"TO",OMR:"OM",PGK:"PG",KES:"KE",SEK:"SE",GNF:"GN",ARS:"AR",QAR:"QA",IRR:"IR",MRO:"MR",CNY:"CN",THB:"TH",UZS:"UZ",BDT:"BD",LTL:"LT",LYD:"LY",KWD:"KW",PHP:"PH",RUB:"RU",PYG:"PY",ISK:"IS",JMD:"JM",COP:"CO",MKD:"MK",USD:"US",DZD:"DZ",PAB:"PA",SGD:"SG",ETB:"ET",KGS:"KG",SOS:"SO",VUV:"VU",LAK:"LA",BND:"BN",XAF:"CF",LRD:"LR",CHF:"CH",HRK:"HR",ALL:"AL",DJF:"DJ",TZS:"TZ",VND:"VN",AUD:"AU",ILS:"IL",GYD:"GY",KPW:"KP",BOB:"BO",KHR:"KH",MDL:"MD",IDR:"ID",AMD:"AM",BWP:"BW",SHP:"SH",TRY:"TR",LBP:"LB",JOD:"JO",AED:"AE",RWF:"RW",LSL:"LS",DKK:"DK",CAD:"CA",BGN:"BG",MMK:"MM",MUR:"MU",NOK:"NO",SYP:"SY",GIP:"GI",RON:"RO",LKR:"LK",NGN:"NG",CRC:"CR",CZK:"CZ",PKR:"PK",XCD:"AG",ANG:"CW",HTG:"HT",BHD:"BH",KZT:"KZ",SZL:"SZ",SAR:"SA",TTD:"TT",YER:"YE",MVR:"MV",AFN:"AF",INR:"BT",AWG:"AW",KRW:"KR",NPR:"NP",JPY:"JP",MNT:"MN",AOA:"AO",PLN:"PL",GBP:"GB",SBD:"SB",HUF:"HU",BIF:"BI",MWK:"MW",BZD:"BZ",BAM:"BA",EGP:"EG",MOP:"MO",NAD:"NA",NIO:"NI",PEN:"PE",NZD:"NZ",WST:"WS",TMT:"TM",BRL:"BR"},F=function(e){return!!(e.currency&&e.nameI18N&&e.exchangeRate&&e.exchangeRate.buy&&e.exchangeRate.middle&&e.exchangeRate.sell&&G[e.currency])};function K(){var e=Object(s.b)(),a=Object(s.c)(f),r=Object(s.c)(T),c=Object(s.c)(g);return Object(n.useEffect)((function(){e(function(){var e=Object(L.a)(D.a.mark((function e(a){var r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:t.FETCH_REQUEST}),e.next=4,H.getCurrencies();case 4:return r=e.sent,c=r.data.fx,n=c.filter(F).map((function(e){return{currencyCode:e.currency,currencyName:e.nameI18N,countryCode:G[e.currency],flagFileName:"".concat(G[e.currency].toLowerCase(),".png"),exchangeRate:e.exchangeRate}})),e.abrupt("return",a({type:t.FETCH_SUCCESS,payload:n}));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",a({type:t.FETCH_ERROR,payload:e.t0}));case 13:case"end":return e.stop()}var c}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}())}),[e]),{currencies:c,isLoading:a,error:r}}var I=function(e,a){return e.filter((function(e){return Object.values(e).join(" ").toLowerCase().includes(a.toLowerCase())}))};var P=r(3),U=r(21),_=r.n(U);var w=function(e){var a=Object(s.c)(E),r=Object(s.c)(f),c=Object(s.c)(T),i=Object(s.c)(m);return K(),function(e){var a=Object(P.d)();Object(n.useEffect)((function(){""===e?a.push({}):e&&a.push({search:_.a.stringify({searchTerm:e})})}),[e,a])}(e),function(){var e=Object(P.e)(),a=Object(s.b)();Object(n.useEffect)((function(){var r,n=null===(r=_.a.parse(e.search))||void 0===r?void 0:r.searchTerm;a({type:t.SEARCH_TERM_CHANGE,payload:n||null})}),[e.search,a])}(),function(){var e=Object(s.b)(),a=Object(s.c)(g),r=Object(s.c)(A);Object(n.useEffect)((function(){a.length&&e({type:t.FILTER_DATA,payload:null===r?a:I(a,r)})}),[r,a,e])}(),{filteredCurrencies:a,isLoading:r,error:c,isFiltering:i}};var W=function(){var e=Object(n.useState)(null),a=Object(l.a)(e,2),r=a[0],t=a[1],c=function(e,a){var r=Object(n.useState)(e),t=Object(l.a)(r,2),c=t[0],i=t[1];return Object(n.useEffect)((function(){var r=setTimeout((function(){i(e)}),a);return function(){clearTimeout(r)}}),[e,a]),c}(r,500),i=w(c),o=i.filteredCurrencies,s=i.isLoading,u=i.error,d=i.isFiltering;return Object(b.jsxs)("div",{className:"grid grid-rows-table",children:[Object(b.jsx)(O,{}),Object(b.jsx)(N,{handleInputChange:function(e){t(e.currentTarget.value)},searchInputDisabled:s}),Object(b.jsx)(h,{currencies:o,isLoading:s,isFiltering:d,isError:!!u})]})},Z=r(16),Y=r(47),J=r(48),k=r(10),V={data:[],filteredData:[],error:void 0,loading:!0,filtering:!1,searchTerm:null},Q=Object(Z.combineReducers)({currency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case t.FETCH_REQUEST:return Object(k.a)(Object(k.a)({},e),{},{loading:!0});case t.FETCH_SUCCESS:return Object(k.a)(Object(k.a)({},e),{},{loading:!1,data:a.payload,filteredData:a.payload});case t.FETCH_ERROR:return Object(k.a)(Object(k.a)({},e),{},{loading:!1,error:a.payload});case t.SEARCH_TERM_CHANGE:return Object(k.a)(Object(k.a)({},e),{},{filtering:!0,searchTerm:a.payload});case t.FILTER_DATA:return Object(k.a)(Object(k.a)({},e),{},{filtering:!1,filteredData:a.payload});default:return e}}}),z=Object(J.composeWithDevTools)(Object(Z.applyMiddleware)(Y.a)),X=function(e){return Object(Z.createStore)(Q,e,z)}({});var q=function(){return Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(c.a.Suspense,{fallback:"Loading..",children:Object(b.jsx)(s.a,{store:X,children:Object(b.jsx)(u.a,{children:Object(b.jsx)(W,{})})})})})},$=r(29),ee=r(17);$.a.use(ee.e).init({resources:{en:{translation:{title:"George FX test",listHead:{currency:"Currency",country:"Country",exchangeRate:"Exchange Rate"},search:"Lookup exchange rates...",searchLabel:"Fulltext Search",isLoading:"Loading...",isError:"Error. Try again.",noResult:"No results found",countries:{FJ:"Fiji",MX:"Mexico",ST:"Sao Tome and Principe",SC:"Seychelles",CD:"Democratic Republic of the Congo",BB:"Barbados",GT:"Guatemala",CL:"Chile",HN:"Honduras",UG:"Uganda",ZA:"South Africa",TN:"Tunisia",BS:"Bahamas",SL:"Sierra Leone",IQ:"Iraq",GM:"Gambia",CU:"Cuba",TW:"Taiwan, Province of China",RS:"Serbia",DO:"Dominican Republic",KM:"Comoros",MY:"Malaysia",FK:"Falkland Islands",BF:"Burkina Faso",GE:"Georgia",UY:"Uruguay",CV:"Cabo Verde",TO:"Tonga",OM:"Oman",PG:"Papua New Guinea",KE:"Kenya",SE:"Sweden",GN:"Guinea",AR:"Argentina",QA:"Qatar",IR:"Iran",MR:"Mauritania",NO:"Norway",CN:"China",TH:"Thailand",US:"United States",UZ:"Uzbekistan",BD:"Bangladesh",LY:"Libya",KW:"Kuwait",PH:"Philippines",RU:"Russian Federation",PY:"Paraguay",IS:"Iceland",JM:"Jamaica",CO:"Colombia",MK:"North Macedonia",DZ:"Algeria",PA:"Panama",SG:"Singapore",ET:"Ethiopia",KG:"Kyrgyzstan",SO:"Somalia",VU:"Vanuatu",LA:"Lao People's Democratic Republic",BN:"Brunei Darussalam",CF:"Central African Republic",LR:"Liberia",CH:"Switzerland",HR:"Croatia",AL:"Albania",DJ:"Djibouti",NZ:"New Zealand",TZ:"Tanzania, United Republic of",VN:"Viet Nam",AU:"Australia",IL:"Israel",GY:"Guyana",KP:"Korea",BO:"Bolivia",KH:"Cambodia",MD:"Moldova, Republic of",ID:"Indonesia",AM:"Armenia",BW:"Botswana",SH:"Saint Helena",TR:"Turkey",LB:"Lebanon",LT:"Lithuania",JO:"Jordan",AE:"United Arab Emirates",RW:"Rwanda",AD:"Andorra",LS:"Lesotho",DK:"Denmark",CA:"Canada",BG:"Bulgaria",MA:"Morocco",MM:"Myanmar",MU:"Mauritius",BV:"Bouvet Island",SY:"Syrian Arab Republic",GI:"Gibraltar",RO:"Romania",LK:"Sri Lanka",NG:"Nigeria",CR:"Costa Rica",CZ:"Czechia",PK:"Pakistan",AG:"Antigua and Barbuda",CW:"Cura\xe7ao",HT:"Haiti",BH:"Bahrain",KZ:"Kazakhstan",SZ:"Eswatini",SA:"Saudi Arabia",TT:"Trinidad and Tobago",YE:"Yemen",MV:"Maldives",AF:"Afghanistan",BT:"Bhutan",AW:"Aruba",KR:"Korea, Republic of",NP:"Nepal",JP:"Japan",MN:"Mongolia",AO:"Angola",PL:"Poland",GB:"United Kingdom",SB:"Solomon Islands",HU:"Hungary",BI:"Burundi",MW:"Malawi",BZ:"Belize",BA:"Bosnia and Herzegovina",EG:"Egypt",MO:"Macao",NA:"Namibia",NI:"Nicaragua",PE:"Peru",CK:"Cook Islands",WS:"Samoa",TM:"Turkmenistan",BR:"Brazil"}}}},lng:"en",interpolation:{escapeValue:!1}});$.a,r(104);o.a.render(Object(b.jsx)(q,{}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.a66af828.chunk.js.map